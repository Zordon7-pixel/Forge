import{d as h,b as P,u as H,r as s,a as b,j as e,A as L}from"./index-DyTTJOv2.js";import{D as G}from"./dumbbell-DSbRLoQv.js";import{C as k}from"./chevron-right-CHdqdEmy.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V=h("Eye",U);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],q=h("HeartPulse",$);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y=h("Settings",J);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],K=h("User",Z),Q=[{key:"mentor",label:"Mentor",description:"Guidance and wisdom, no pressure"},{key:"hype_coach",label:"Hype Coach",description:"High energy, keeps you fired up"},{key:"drill_sergeant",label:"Drill Sergeant",description:"No excuses, maximum output"},{key:"training_partner",label:"Training Partner",description:"Supportive, runs with you mentally"}];function X(){const[m,u]=s.useState(null),[j,f]=s.useState(()=>localStorage.getItem("meta_glasses_dismissed")==="true");return s.useEffect(()=>{b.get("/watch-sync/meta/status").then(d=>u(d.data)).catch(()=>{})},[]),j?null:e.jsxs("div",{style:{background:"var(--bg-card)",borderRadius:16,padding:16,border:"1px solid var(--border-subtle)",marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:10},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[e.jsx("div",{style:{width:36,height:36,borderRadius:10,background:"rgba(234,179,8,0.1)",border:"1px solid rgba(234,179,8,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(V,{size:18,color:"#EAB308"})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:14,fontWeight:700,color:"var(--text-primary)",margin:0},children:"Meta Ray-Ban Glasses"}),e.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",margin:"2px 0 0"},children:"Smart glasses integration"})]})]}),e.jsx("span",{style:{fontSize:10,fontWeight:700,color:"#EAB308",background:"rgba(234,179,8,0.1)",padding:"3px 8px",borderRadius:6,border:"1px solid rgba(234,179,8,0.3)"},children:"Coming Soon"})]}),e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginBottom:12,lineHeight:1.5},children:"When Meta opens their API, FORGE will automatically sync: activity detection, step tracking, ambient audio coaching, and POV workout capture."}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:12},children:["Activity Detection","Step Tracking","Voice Coaching","POV Capture"].map(d=>e.jsx("span",{style:{fontSize:10,padding:"3px 8px",borderRadius:20,background:"var(--bg-input)",color:"var(--text-muted)",border:"1px solid var(--border-subtle)"},children:d},d))}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{style:{flex:1,padding:"8px 0",borderRadius:10,background:"var(--bg-input)",border:"1px solid var(--border-subtle)",color:"var(--text-muted)",fontSize:13,fontWeight:600,cursor:"not-allowed",opacity:.6},disabled:!0,children:"Connect Meta Account"}),e.jsx("button",{onClick:()=>{localStorage.setItem("meta_glasses_dismissed","true"),f(!0)},style:{padding:"8px 12px",borderRadius:10,background:"none",border:"1px solid var(--border-subtle)",color:"var(--text-muted)",fontSize:12,cursor:"pointer"},children:"Dismiss"})]})]})}function ae(){var R,W,M;const m=P(),{t:u}=H(),[j,f]=s.useState(!0),[d,S]=s.useState(!1),[D,_]=s.useState(!1),[w,C]=s.useState(""),[r,z]=s.useState({name:"",email:"",age:"",weight_lbs:"",sex:"male",fitness_level:"beginner",primary_goal:"general_fitness",injury_status:"none",injury_detail:"",coach_personality:"mentor",weekly_miles:""}),[v,E]=s.useState(null),[i,N]=s.useState(!1),[B,I]=s.useState(""),[T,A]=s.useState("");s.useEffect(()=>{(async()=>{var t;try{const[c,o]=await Promise.all([b.get("/auth/me"),b.get("/auth/me/stats").catch(()=>null)]),a=((t=c.data)==null?void 0:t.user)||c.data||{};z({name:a.name||"",email:a.email||"",age:a.age??"",weight_lbs:a.weight_lbs??"",sex:a.sex||"male",fitness_level:a.fitness_level||(a.comeback_mode?"intermediate":"beginner"),primary_goal:a.primary_goal||a.goal_type||"general_fitness",injury_status:a.injury_status||(a.injury_notes?"recovering":"none"),injury_detail:a.injury_detail||a.injury_notes||"",coach_personality:a.coach_personality||"mentor",weekly_miles:a.weekly_miles??a.weekly_miles_current??""}),E((o==null?void 0:o.data)||null),N(!!a.injury_mode),I(a.injury_description||""),A(a.injury_limitations||"")}finally{f(!1)}})()},[]);const l=(t,c)=>z(o=>({...o,[t]:c})),F=async t=>{var c,o;t.preventDefault(),C(""),S(!0),_(!1);try{await b.put("/auth/me/profile",{name:r.name,age:r.age===""?null:Number(r.age),weight_lbs:r.weight_lbs===""?null:Number(r.weight_lbs),sex:r.sex,fitness_level:r.fitness_level,primary_goal:r.primary_goal,injury_status:r.injury_status,injury_detail:r.injury_detail,coach_personality:r.coach_personality,weekly_miles:r.weekly_miles===""?null:Number(r.weekly_miles),weekly_miles_current:r.weekly_miles===""?null:Number(r.weekly_miles),goal_type:r.primary_goal,injury_notes:r.injury_detail,comeback_mode:r.injury_status!=="none"?1:0}),await b.post("/auth/injury",{injury_mode:i,injury_description:B,injury_date:i?new Date().toISOString().slice(0,10):"",injury_limitations:T}),_(!0),setTimeout(()=>_(!1),1800)}catch(a){C(((o=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:o.error)||"Could not save profile changes.")}finally{S(!1)}},O=()=>{localStorage.removeItem("forge_token"),m("/login")};if(j)return e.jsx("div",{className:"rounded-xl p-4",style:{background:"var(--bg-card)",color:"var(--text-muted)"},children:u("common.loading")});const p={background:"var(--bg-card)",borderRadius:16,padding:20,marginBottom:12},y={fontSize:11,fontWeight:700,color:"var(--text-muted)",letterSpacing:1,textTransform:"uppercase",marginBottom:14},n={background:"var(--bg-input)",border:"1px solid var(--border-subtle)",borderRadius:10,padding:"12px 14px",fontSize:14,color:"var(--text-primary)",width:"100%",boxSizing:"border-box"},g={background:"var(--accent)",color:"#000",border:"none",borderRadius:20,padding:"8px 16px",fontSize:13,fontWeight:700,cursor:"pointer"},x={background:"var(--bg-input)",color:"var(--text-muted)",border:"1px solid var(--border-subtle)",borderRadius:20,padding:"8px 16px",fontSize:13,fontWeight:400,cursor:"pointer"};return e.jsxs("div",{className:"rounded-2xl p-4",style:{background:"var(--bg-card)"},children:[e.jsx("h2",{className:"mb-4 text-xl font-bold",style:{color:"var(--text-primary)"},children:u("profile.title")}),e.jsxs("div",{style:{background:"var(--bg-card)",borderRadius:20,padding:24,marginBottom:16,textAlign:"center",border:"1px solid var(--border-subtle)"},children:[e.jsx("div",{style:{width:72,height:72,borderRadius:"50%",background:"var(--bg-base)",border:"3px solid var(--accent)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px",fontSize:28,fontWeight:900,color:"var(--accent)"},children:(r.name||"U")[0].toUpperCase()}),e.jsx("p",{style:{fontSize:20,fontWeight:800,color:"var(--text-primary)",marginBottom:2},children:r.name||"Athlete"}),e.jsx("p",{style:{fontSize:13,color:"var(--text-muted)"},children:r.email}),v&&e.jsx("div",{style:{display:"flex",justifyContent:"center",gap:24,marginTop:16,paddingTop:16,borderTop:"1px solid var(--border-subtle)"},children:[{label:"Total Runs",value:((R=v.all)==null?void 0:R.runs)??0},{label:"Total Miles",value:(((W=v.all)==null?void 0:W.miles)??0).toFixed(1)},{label:"This Week",value:`${(((M=v.week)==null?void 0:M.miles)??0).toFixed(1)} mi`}].map(t=>e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{fontSize:18,fontWeight:800,color:"var(--text-primary)"},children:t.value}),e.jsx("p",{style:{fontSize:11,color:"var(--text-muted)"},children:t.label})]},t.label))})]}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{style:p,children:[e.jsxs("div",{style:{...y,display:"flex",alignItems:"center",gap:8},children:[e.jsx(K,{size:14})," Identity"]}),e.jsx("div",{style:{marginBottom:12},children:e.jsx("input",{type:"text",placeholder:"Full name",value:r.name,onChange:t=>l("name",t.target.value),style:n})}),e.jsx("div",{style:{marginBottom:12},children:e.jsx("input",{type:"email",value:r.email,readOnly:!0,style:{...n,color:"var(--text-muted)"}})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:12},children:[e.jsx("input",{type:"number",min:"0",placeholder:"Age",value:r.age,onChange:t=>l("age",t.target.value),style:n}),e.jsx("input",{type:"number",min:"0",step:"0.1",placeholder:"Weight (lbs)",value:r.weight_lbs,onChange:t=>l("weight_lbs",t.target.value),style:n})]}),e.jsx("div",{style:{display:"flex",gap:8},children:["male","female"].map(t=>e.jsx("button",{type:"button",onClick:()=>l("sex",t),style:r.sex===t?{...g,flex:1}:{...x,flex:1},children:t==="male"?"Male":"Female"},t))})]}),e.jsxs("div",{style:p,children:[e.jsxs("div",{style:{...y,display:"flex",alignItems:"center",gap:8},children:[e.jsx(G,{size:14})," Training"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:8,marginBottom:12},children:[{key:"beginner",label:"Beginner"},{key:"intermediate",label:"Intermediate"},{key:"advanced",label:"Advanced"}].map(t=>e.jsx("button",{type:"button",onClick:()=>l("fitness_level",t.key),style:r.fitness_level===t.key?g:x,children:t.label},t.key))}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:12},children:[{key:"get_faster",label:"Get Faster"},{key:"run_longer",label:"Run Longer"},{key:"lose_fat",label:"Lose Fat"},{key:"general_fitness",label:"General Fitness"}].map(t=>e.jsx("button",{type:"button",onClick:()=>l("primary_goal",t.key),style:r.primary_goal===t.key?g:x,children:t.label},t.key))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("input",{type:"number",min:"0",step:"0.1",placeholder:"0.0",value:r.weekly_miles,onChange:t=>l("weekly_miles",t.target.value),style:n}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13,whiteSpace:"nowrap"},children:"miles/week"})]})]}),e.jsxs("div",{style:p,children:[e.jsxs("div",{style:{...y,display:"flex",alignItems:"center",gap:8},children:[e.jsx(q,{size:14})," Your Coach"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10},children:Q.map(t=>e.jsxs("button",{type:"button",onClick:()=>l("coach_personality",t.key),style:r.coach_personality===t.key?{textAlign:"left",background:"var(--accent-dim)",border:"1px solid var(--accent)",borderRadius:12,padding:12,color:"var(--text-primary)"}:{textAlign:"left",background:"var(--bg-input)",border:"1px solid var(--border-subtle)",borderRadius:12,padding:12,color:"var(--text-muted)"},children:[e.jsx("div",{style:{fontSize:13,fontWeight:700,marginBottom:3,color:(r.coach_personality===t.key,"var(--text-primary)")},children:t.label}),e.jsx("div",{style:{fontSize:12,lineHeight:1.3},children:t.description})]},t.key))})]}),e.jsxs("div",{style:{...p,border:i?"1px solid var(--accent)":"1px solid var(--border-subtle)",background:i?"var(--accent-dim)":"var(--bg-card)"},children:[e.jsx("div",{style:{...y,marginBottom:10},children:"Injury Mode"}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:i?12:0,gap:10},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:700,color:"var(--text-primary)",marginBottom:4},children:i?"Recovery Plan Enabled":"Off"}),e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)"},children:"Adjust training around injuries and current limitations."})]}),e.jsx("button",{type:"button",onClick:()=>N(!i),style:i?{...g,whiteSpace:"nowrap"}:{...x,whiteSpace:"nowrap"},children:i?"ON":"OFF"})]}),i&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[e.jsx("input",{value:B,onChange:t=>I(t.target.value),placeholder:"What is injured?",style:n}),e.jsx("input",{value:T,onChange:t=>A(t.target.value),placeholder:"Current limitations",style:n})]})]}),e.jsxs("div",{style:p,children:[e.jsx("div",{style:y,children:"Injury Details"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0,1fr))",gap:8,marginBottom:10},children:["none","recovering","chronic"].map(t=>e.jsx("button",{type:"button",onClick:()=>l("injury_status",t),style:r.injury_status===t?g:x,children:t.charAt(0).toUpperCase()+t.slice(1)},t))}),r.injury_status!=="none"&&e.jsx("textarea",{rows:3,placeholder:"Injury details",value:r.injury_detail,onChange:t=>l("injury_detail",t.target.value),style:{...n,resize:"vertical"}})]}),w&&e.jsx("p",{className:"text-sm",style:{color:"var(--accent)"},children:w}),D&&e.jsx("p",{className:"text-sm",style:{color:"var(--text-primary)"},children:"Saved"}),e.jsx("button",{type:"submit",disabled:d,className:"w-full rounded-xl py-3 font-semibold disabled:opacity-70",style:{background:"var(--accent)",color:"#000",marginTop:8},children:u(d?"common.loading":"profile.save")})]}),e.jsxs("div",{onClick:()=>m("/settings"),className:"flex items-center justify-between rounded-xl p-4 cursor-pointer transition-colors mt-4",style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{size:18,className:"text-[var(--accent)]"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Settings"})]}),e.jsx(k,{size:16,className:"text-[var(--text-muted)]"})]}),e.jsxs("div",{onClick:()=>m("/journal"),className:"flex items-center justify-between rounded-xl p-4 cursor-pointer transition-colors mt-2",style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Journal"}),e.jsx(k,{size:16,className:"text-[var(--text-muted)]"})]}),e.jsxs("div",{style:{marginTop:16},children:[e.jsx("p",{style:{fontSize:12,fontWeight:700,color:"var(--text-muted)",marginBottom:8,textTransform:"uppercase",letterSpacing:.5},children:"Health"}),e.jsxs("div",{onClick:()=>m("/injury"),className:"flex items-center justify-between rounded-xl p-4 cursor-pointer transition-colors",style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{size:18,color:"#EAB308"}),e.jsx("span",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Injury Log"})]}),e.jsx(k,{size:16,className:"text-[var(--text-muted)]"})]})]}),e.jsxs("div",{style:{marginTop:16},children:[e.jsx("p",{style:{fontSize:12,fontWeight:700,color:"var(--text-muted)",marginBottom:8,textTransform:"uppercase",letterSpacing:.5},children:"Connected Devices"}),e.jsx(X,{})]}),e.jsx("button",{type:"button",onClick:O,className:"w-full bg-transparent py-3 font-medium mt-2",style:{color:"var(--text-muted)",border:"none"},children:"Log Out"})]})}export{ae as default};
