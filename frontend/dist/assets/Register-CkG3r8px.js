import{u as h,r as o,j as e,L as v,a as f}from"./index-B0TFXbO8.js";function w(){const{t:r}=h(),[s,x]=o.useState(""),[l,b]=o.useState(""),[n,g]=o.useState(""),[c,i]=o.useState(""),[u,d]=o.useState(!1),y=async t=>{var p,m;t.preventDefault(),i(""),d(!0);try{const a=await f.post("/auth/register",{name:s,email:l,password:n});localStorage.setItem("forge_token",a.data.token),window.location.href="/onboarding"}catch(a){i(((m=(p=a==null?void 0:a.response)==null?void 0:p.data)==null?void 0:m.error)||"Registration failed. Please try again.")}finally{d(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center px-4",style:{background:"var(--bg-base)",color:"var(--text-primary)"},children:e.jsxs("div",{className:"w-full max-w-[420px] rounded-2xl border p-6 shadow-xl",style:{borderColor:"var(--border-subtle)",background:"var(--bg-card)"},children:[e.jsx("h1",{className:"mb-1 text-2xl font-bold",style:{color:"var(--text-primary)"},children:r("auth.register")}),e.jsx("p",{className:"mb-6 text-sm",style:{color:"var(--text-muted)"},children:"Start building your smartest training cycle."}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsx("input",{type:"text",required:!0,placeholder:r("auth.name"),className:"w-full rounded-xl border px-4 py-3 outline-none placeholder:text-gray-500 focus:ring-2",style:{borderColor:"var(--border-subtle)",background:"var(--bg-input)",color:"var(--text-primary)"},value:s,onChange:t=>x(t.target.value)}),e.jsx("input",{type:"email",required:!0,placeholder:r("auth.email"),className:"w-full rounded-xl border px-4 py-3 outline-none placeholder:text-gray-500 focus:ring-2",style:{borderColor:"var(--border-subtle)",background:"var(--bg-input)",color:"var(--text-primary)"},value:l,onChange:t=>b(t.target.value)}),e.jsx("input",{type:"password",required:!0,placeholder:r("auth.password"),className:"w-full rounded-xl border px-4 py-3 outline-none placeholder:text-gray-500 focus:ring-2",style:{borderColor:"var(--border-subtle)",background:"var(--bg-input)",color:"var(--text-primary)"},value:n,onChange:t=>g(t.target.value)}),e.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-xl py-3 font-semibold transition hover:opacity-90 disabled:opacity-70",style:{background:"var(--accent)",color:"black"},children:r(u?"common.loading":"auth.register")})]}),c&&e.jsx("p",{className:"mt-3 text-sm",style:{color:"var(--accent)"},children:c}),e.jsxs("p",{className:"mt-5 text-center text-sm",style:{color:"var(--text-muted)"},children:[r("auth.hasAccount")," ",e.jsx(v,{to:"/login",className:"font-semibold hover:underline",style:{color:"var(--accent)"},children:r("auth.login")})]})]})})}export{w as default};
