import{r as a,j as e,a as d}from"./index-Bez5XITZ.js";function p(){const[i,l]=a.useState([]),[u,s]=a.useState(!1),[r,n]=a.useState(""),c=()=>d.get("/journal").then(t=>{var o;return l(((o=t.data)==null?void 0:o.entries)||[])}).catch(()=>l([]));a.useEffect(()=>{c()},[]);const x=async()=>{r.trim()&&(await d.post("/journal",{source:"manual",content:r}),n(""),s(!1),c())};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--text-primary)"},children:"Journal"}),e.jsx("button",{onClick:()=>s(!0),className:"rounded-lg px-3 py-1.5 text-xs font-semibold",style:{background:"var(--accent)",color:"#000"},children:"Add Note"})]}),i.map(t=>e.jsxs("div",{className:"rounded-xl p-3",style:{background:"var(--bg-card)"},children:[e.jsxs("p",{className:"text-xs",style:{color:"var(--text-muted)"},children:[new Date(t.created_at).toLocaleString()," Â· ",t.source==="ai_feedback"?"AI Feedback":"My Note"]}),e.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap",style:{color:"var(--text-primary)"},children:t.content})]},t.id)),u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",style:{background:"rgba(0,0,0,0.7)"},children:e.jsxs("div",{className:"w-full max-w-md rounded-xl p-4",style:{background:"var(--bg-card)"},children:[e.jsx("textarea",{rows:5,value:r,onChange:t=>n(t.target.value),className:"w-full rounded-lg p-2",style:{background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)"}}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>s(!1),className:"flex-1 rounded-lg py-2",style:{background:"var(--bg-input)",color:"var(--text-muted)"},children:"Cancel"}),e.jsx("button",{onClick:x,className:"flex-1 rounded-lg py-2 font-semibold",style:{background:"var(--accent)",color:"#000"},children:"Save"})]})]})})]})}export{p as default};
