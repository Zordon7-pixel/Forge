import{d as A,u as w,r as o,a as v,j as e,A as E}from"./index-B0TFXbO8.js";import{R as F}from"./refresh-cw-DdAf3_xN.js";import{F as _}from"./footprints-xdFGHK9R.js";import{S as B}from"./sparkles-C3D9CZVJ.js";import{C as G}from"./circle-check-CHMqF7c9.js";import{C as W}from"./chevron-right-CnIv_zhE.js";import{X as M}from"./x-BxDar5mu.js";import{C as j}from"./check-qu7mWulz.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],D=A("LayoutGrid",N);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],P=A("MoveUp",O),I={"hip-focused":E,"leg-focused":_,"full-body":D,"upper-body":P,"lower-back":F},k={"hip-focused":"stretches.hipFocused","leg-focused":"stretches.legFocused","full-body":"stretches.fullBody","upper-body":"stretches.upperBody","lower-back":"stretches.lowerBack"},S=44,R=2*Math.PI*S;function U({total:t,remaining:a}){const n=a/t,i=R*(1-n);return e.jsxs("svg",{width:"110",height:"110",viewBox:"0 0 110 110",children:[e.jsx("circle",{cx:"55",cy:"55",r:S,fill:"none",stroke:"var(--bg-card)",strokeWidth:"7"}),e.jsx("circle",{cx:"55",cy:"55",r:S,fill:"none",stroke:"#EAB308",strokeWidth:"7",strokeLinecap:"round",strokeDasharray:R,strokeDashoffset:i,style:{transform:"rotate(-90deg)",transformOrigin:"55px 55px",transition:"stroke-dashoffset 1s linear"}}),e.jsx("text",{x:"55",y:"55",textAnchor:"middle",dominantBaseline:"central",fill:"#EAB308",fontSize:"26",fontWeight:"900",fontFamily:"system-ui,sans-serif",children:a})]})}function Y({stretches:t,onDone:a,onBack:n}){var z;const{t:i}=w(),[l,m]=o.useState(0),[f,d]=o.useState(((z=t[0])==null?void 0:z.duration)||30),[s,y]=o.useState("active"),[b,p]=o.useState(3),h=o.useRef(null),u=o.useRef(null),r=t[l],c=l<t.length-1?t[l+1]:null,g=l>=t.length-1,T=Math.round(l/t.length*100);o.useEffect(()=>{d(r.duration),y("active"),p(3)},[l,r.duration]),o.useEffect(()=>{if(s==="active")return h.current=setInterval(()=>{d(x=>x<=1?(clearInterval(h.current),y(g?"done":"transition"),0):x-1)},1e3),()=>clearInterval(h.current)},[s,g]),o.useEffect(()=>{if(s!=="transition")return;p(3);let x=3;return u.current=setInterval(()=>{x-=1,p(x),x<=0&&(clearInterval(u.current),m(L=>L+1))},1e3),()=>clearInterval(u.current)},[s]);const H=()=>{clearInterval(h.current),clearInterval(u.current),g?a():m(x=>x+1)},C=()=>{clearInterval(h.current),clearInterval(u.current),n()};return e.jsxs("div",{style:{background:"var(--bg-base)",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{height:3,background:"var(--bg-input)"},children:e.jsx("div",{style:{height:"100%",background:"#EAB308",width:`${T}%`,transition:"width 0.3s ease"}})}),e.jsxs("div",{style:{flex:1,maxWidth:480,margin:"0 auto",width:"100%",padding:"20px 16px 120px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:28},children:[e.jsxs("span",{style:{color:"var(--text-muted)",fontSize:13,fontWeight:600},children:[l+1," ",i("run.of")," ",t.length]}),e.jsx("button",{onClick:C,style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},"aria-label":"Exit",children:e.jsx(M,{size:16,color:"var(--text-muted)"})})]}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:34,textTransform:"uppercase",letterSpacing:-1,marginBottom:6,textAlign:"center",lineHeight:1.1},children:r.name}),e.jsx("p",{style:{color:"#EAB308",fontWeight:700,fontSize:13,textAlign:"center",marginBottom:24},children:r.durationLabel}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,lineHeight:1.75,textAlign:"center",marginBottom:32,padding:"0 8px"},children:r.cue}),s==="active"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:24},children:[e.jsx(U,{total:r.duration,remaining:f}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:12,marginTop:8},children:i("stretches.secsRemaining")})]}),s==="transition"&&c&&e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:16,padding:20,textAlign:"center",marginBottom:24},children:[e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:13,marginBottom:6},children:[i("stretches.nextUp")," ",b,"..."]}),e.jsx("p",{style:{color:"#EAB308",fontWeight:800,fontSize:18},children:c.name})]}),s==="done"&&e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:16,padding:20,textAlign:"center",marginBottom:24,display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[e.jsx(j,{size:28,color:"#22c55e"}),e.jsx("p",{style:{color:"#22c55e",fontWeight:800,fontSize:16},children:i(g?"stretches.routineComplete":"stretches.stretchComplete")})]}),e.jsx("div",{style:{flex:1}})]}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"12px 16px 28px",background:"var(--bg-base)",borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("div",{style:{maxWidth:480,margin:"0 auto",display:"flex",gap:12},children:[e.jsx("button",{onClick:C,style:{flex:1,background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:600,color:"var(--text-muted)",cursor:"pointer"},children:i("common.done")}),s!=="done"&&e.jsx("button",{onClick:H,style:{flex:2,background:"#EAB308",border:"none",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:900,color:"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:c?e.jsxs(e.Fragment,{children:[i("common.next")," ",e.jsx(W,{size:16})]}):e.jsxs(e.Fragment,{children:[i("stretches.finish")," ",e.jsx(j,{size:16})]})}),s==="done"&&e.jsxs("button",{onClick:a,style:{flex:2,background:"#22c55e",border:"none",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:900,color:"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(j,{size:16})," ",i("common.done")]})]})})]})}function ee(){const{t}=w(),[a,n]=o.useState("categories"),[i,l]=o.useState([]),[m,f]=o.useState([]),[d,s]=o.useState(null),[y,b]=o.useState(0);o.useEffect(()=>{v.get("/stretches/categories").then(r=>l(r.data.categories)).catch(()=>{})},[]);const p=async r=>{n("loading");try{const c=await v.get(`/stretches?category=${r}`);f(c.data.stretches),n("session")}catch{n("categories")}},h=async()=>{n("loading");try{const r=await v.get("/stretches/recommended");s({recommendedCategory:r.data.recommendedCategory,reason:r.data.reason}),f(r.data.stretches),n("ai-banner")}catch{n("categories")}},u=()=>{b(m.length),n("done")};if(a==="loading")return e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("p",{style:{color:"var(--text-muted)",fontSize:15},children:t("common.loading")})});if(a==="ai-banner"&&d){const r=I[d.recommendedCategory]||D,c=k[d.recommendedCategory],g=c?t(c):d.recommendedCategory;return e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"32px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsxs("div",{style:{maxWidth:480,width:"100%"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"rgba(234,179,8,0.1)",border:"1px solid rgba(234,179,8,0.25)",borderRadius:20,padding:"6px 14px",marginBottom:28},children:[e.jsx(B,{size:14,color:"#EAB308"}),e.jsx("span",{style:{color:"#EAB308",fontWeight:700,fontSize:12},children:t("stretches.aiRecommended")})]}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:30,marginBottom:8},children:t("stretches.recommendedFor")}),e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:20,padding:24,marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:12},children:[e.jsx("div",{style:{width:52,height:52,borderRadius:14,background:"rgba(234,179,8,0.12)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(r,{size:24,color:"#EAB308"})}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"var(--text-primary)",fontWeight:800,fontSize:20,margin:0},children:g}),e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:13,margin:0},children:[m.length," ",t("stretches.stretchesReady")]})]})]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:13,lineHeight:1.6,margin:0},children:d.reason})]}),e.jsx("button",{onClick:()=>n("session"),style:{width:"100%",background:"#EAB308",color:"#000",border:"none",borderRadius:16,padding:"16px 0",fontWeight:900,fontSize:16,cursor:"pointer",marginBottom:12},children:t("stretches.begin")}),e.jsx("button",{onClick:()=>n("categories"),style:{width:"100%",background:"transparent",color:"var(--text-muted)",border:"none",padding:"12px 0",cursor:"pointer",fontSize:14},children:t("common.back")})]})})}return a==="session"?e.jsx(Y,{stretches:m,onDone:u,onBack:()=>n("categories")}):a==="done"?e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"24px 16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:480,width:"100%",textAlign:"center"},children:[e.jsx(G,{size:72,color:"#EAB308",style:{marginBottom:20}}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:32,marginBottom:10},children:t("stretches.completionTitle")}),e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:15,marginBottom:40},children:[y," ",t("stretches.completionSubtitle")]}),e.jsx("button",{onClick:()=>n("categories"),style:{width:"100%",background:"#EAB308",color:"#000",border:"none",borderRadius:16,padding:"16px 0",fontWeight:900,fontSize:16,cursor:"pointer"},children:t("stretches.startAnother")})]})}):e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"24px 16px 96px"},children:e.jsxs("div",{style:{maxWidth:480,margin:"0 auto"},children:[e.jsxs("header",{style:{marginBottom:28},children:[e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:28,marginBottom:6},children:t("stretches.title")}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14},children:t("stretches.subtitle")})]}),e.jsxs("button",{onClick:h,style:{width:"100%",display:"flex",alignItems:"center",gap:14,background:"rgba(234,179,8,0.07)",border:"1px solid rgba(234,179,8,0.22)",borderRadius:16,padding:"16px 20px",cursor:"pointer",marginBottom:24,textAlign:"left"},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(234,179,8,0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(B,{size:20,color:"#EAB308"})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{color:"#EAB308",fontWeight:800,fontSize:15,margin:0},children:t("stretches.aiRecommended")}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:12,margin:0},children:t("stretches.aiRecommendedDesc")})]}),e.jsx(W,{size:18,color:"var(--text-muted)"})]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:12},children:t("stretches.categories")}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:i.map(r=>{const c=I[r.id]||E,g=k[r.id]?t(k[r.id]):r.label;return e.jsxs("button",{onClick:()=>p(r.id),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:12,background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:16,padding:"18px 16px",cursor:"pointer",textAlign:"left"},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(234,179,8,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(c,{size:18,color:"#EAB308"})}),e.jsx("span",{style:{color:"var(--text-primary)",fontWeight:700,fontSize:14,lineHeight:1.2},children:g})]},r.id)})})]})})}export{ee as default};
