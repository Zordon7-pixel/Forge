import{d as R,u as A,r as i,a as j,j as e,A as W}from"./index-DPvCFa56.js";import{R as L}from"./refresh-cw-BQXTEAHm.js";import{F as N}from"./footprints-COhZ2vGV.js";import{S as z}from"./sparkles-Csi2DMSn.js";import{C as _}from"./circle-check-DTBuQ-1V.js";import{C as E}from"./chevron-right-By4PqBmQ.js";import{X as M}from"./x-D4VZuQN9.js";import{C as v}from"./check-DBukk81A.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],D=R("LayoutGrid",G);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],P=R("MoveUp",O),w={"hip-focused":W,"leg-focused":N,"full-body":D,"upper-body":P,"lower-back":L},k={"hip-focused":"stretches.hipFocused","leg-focused":"stretches.legFocused","full-body":"stretches.fullBody","upper-body":"stretches.upperBody","lower-back":"stretches.lowerBack"},S=44,I=2*Math.PI*S;function U(){return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @keyframes stick-sway { 0%,100% { transform: rotate(-8deg); } 50% { transform: rotate(8deg); } }
        @keyframes arrow-pulse { 0%,100% { opacity: 0.35; } 50% { opacity: 1; } }
        .stick-sway { animation: stick-sway 2.2s ease-in-out infinite; transform-origin: 50px 30px; }
        .arrow-pulse { animation: arrow-pulse 1.2s ease-in-out infinite; }
      `}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:16},children:e.jsxs("svg",{viewBox:"0 0 120 120",width:"120",height:"120","aria-label":"Stretch movement guide",children:[e.jsx("text",{x:"20",y:"62",className:"arrow-pulse",fill:"#EAB308",fontSize:"18",children:"↔"}),e.jsx("text",{x:"84",y:"62",className:"arrow-pulse",fill:"#EAB308",fontSize:"18",children:"↔"}),e.jsxs("g",{className:"stick-sway",children:[e.jsx("circle",{cx:"60",cy:"20",r:"9",fill:"none",stroke:"#EAB308",strokeWidth:"3"}),e.jsx("line",{x1:"60",y1:"29",x2:"60",y2:"66",stroke:"#9ca3af",strokeWidth:"3"}),e.jsx("line",{x1:"60",y1:"42",x2:"40",y2:"56",stroke:"#9ca3af",strokeWidth:"3"}),e.jsx("line",{x1:"60",y1:"42",x2:"80",y2:"56",stroke:"#9ca3af",strokeWidth:"3"}),e.jsx("line",{x1:"60",y1:"66",x2:"46",y2:"98",stroke:"#9ca3af",strokeWidth:"3"}),e.jsx("line",{x1:"60",y1:"66",x2:"74",y2:"98",stroke:"#9ca3af",strokeWidth:"3"})]})]})})]})}function Y({total:t,remaining:a}){const n=a/t,s=I*(1-n);return e.jsxs("svg",{width:"110",height:"110",viewBox:"0 0 110 110",children:[e.jsx("circle",{cx:"55",cy:"55",r:S,fill:"none",stroke:"var(--bg-card)",strokeWidth:"7"}),e.jsx("circle",{cx:"55",cy:"55",r:S,fill:"none",stroke:"#EAB308",strokeWidth:"7",strokeLinecap:"round",strokeDasharray:I,strokeDashoffset:s,style:{transform:"rotate(-90deg)",transformOrigin:"55px 55px",transition:"stroke-dashoffset 1s linear"}}),e.jsx("text",{x:"55",y:"55",textAnchor:"middle",dominantBaseline:"central",fill:"#EAB308",fontSize:"26",fontWeight:"900",fontFamily:"system-ui,sans-serif",children:a})]})}function $({stretches:t,onDone:a,onBack:n}){var B;const{t:s}=A(),[l,m]=i.useState(0),[f,d]=i.useState(((B=t[0])==null?void 0:B.duration)||30),[o,y]=i.useState("active"),[b,p]=i.useState(3),g=i.useRef(null),u=i.useRef(null),r=t[l],c=l<t.length-1?t[l+1]:null,x=l>=t.length-1,F=Math.round(l/t.length*100);i.useEffect(()=>{d(r.duration),y("active"),p(3)},[l,r.duration]),i.useEffect(()=>{if(o==="active")return g.current=setInterval(()=>{d(h=>h<=1?(clearInterval(g.current),y(x?"done":"transition"),0):h-1)},1e3),()=>clearInterval(g.current)},[o,x]),i.useEffect(()=>{if(o!=="transition")return;p(3);let h=3;return u.current=setInterval(()=>{h-=1,p(h),h<=0&&(clearInterval(u.current),m(H=>H+1))},1e3),()=>clearInterval(u.current)},[o]);const T=()=>{clearInterval(g.current),clearInterval(u.current),x?a():m(h=>h+1)},C=()=>{clearInterval(g.current),clearInterval(u.current),n()};return e.jsxs("div",{style:{background:"var(--bg-base)",minHeight:"100vh",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{height:3,background:"var(--bg-input)"},children:e.jsx("div",{style:{height:"100%",background:"#EAB308",width:`${F}%`,transition:"width 0.3s ease"}})}),e.jsxs("div",{style:{flex:1,maxWidth:480,margin:"0 auto",width:"100%",padding:"20px 16px 120px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:28},children:[e.jsxs("span",{style:{color:"var(--text-muted)",fontSize:13,fontWeight:600},children:[l+1," ",s("run.of")," ",t.length]}),e.jsx("button",{onClick:C,style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:"50%",width:36,height:36,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},"aria-label":"Exit",children:e.jsx(M,{size:16,color:"var(--text-muted)"})})]}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:34,textTransform:"uppercase",letterSpacing:-1,marginBottom:6,textAlign:"center",lineHeight:1.1},children:r.name}),e.jsx("p",{style:{color:"#EAB308",fontWeight:700,fontSize:13,textAlign:"center",marginBottom:24},children:r.durationLabel}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,lineHeight:1.75,textAlign:"center",marginBottom:32,padding:"0 8px"},children:r.cue}),e.jsx(U,{}),o==="active"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:24},children:[e.jsx(Y,{total:r.duration,remaining:f}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:12,marginTop:8},children:s("stretches.secsRemaining")})]}),o==="transition"&&c&&e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:16,padding:20,textAlign:"center",marginBottom:24},children:[e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:13,marginBottom:6},children:[s("stretches.nextUp")," ",b,"..."]}),e.jsx("p",{style:{color:"#EAB308",fontWeight:800,fontSize:18},children:c.name})]}),o==="done"&&e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid rgba(34,197,94,0.3)",borderRadius:16,padding:20,textAlign:"center",marginBottom:24,display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[e.jsx(v,{size:28,color:"#22c55e"}),e.jsx("p",{style:{color:"#22c55e",fontWeight:800,fontSize:16},children:s(x?"stretches.routineComplete":"stretches.stretchComplete")})]}),e.jsx("div",{style:{flex:1}})]}),e.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"12px 16px 28px",background:"var(--bg-base)",borderTop:"1px solid var(--border-subtle)"},children:e.jsxs("div",{style:{maxWidth:480,margin:"0 auto",display:"flex",gap:12},children:[e.jsx("button",{onClick:C,style:{flex:1,background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:600,color:"var(--text-muted)",cursor:"pointer"},children:s("common.done")}),o!=="done"&&e.jsx("button",{onClick:T,style:{flex:2,background:"#EAB308",border:"none",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:900,color:"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:c?e.jsxs(e.Fragment,{children:[s("common.next")," ",e.jsx(E,{size:16})]}):e.jsxs(e.Fragment,{children:[s("stretches.finish")," ",e.jsx(v,{size:16})]})}),o==="done"&&e.jsxs("button",{onClick:a,style:{flex:2,background:"#22c55e",border:"none",borderRadius:14,padding:"14px 0",fontSize:14,fontWeight:900,color:"#000",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[e.jsx(v,{size:16})," ",s("common.done")]})]})})]})}function te(){const{t}=A(),[a,n]=i.useState("categories"),[s,l]=i.useState([]),[m,f]=i.useState([]),[d,o]=i.useState(null),[y,b]=i.useState(0);i.useEffect(()=>{j.get("/stretches/categories").then(r=>l(r.data.categories)).catch(()=>{})},[]);const p=async r=>{n("loading");try{const c=await j.get(`/stretches?category=${r}`);f(c.data.stretches),n("session")}catch{n("categories")}},g=async()=>{n("loading");try{const r=await j.get("/stretches/recommended");o({recommendedCategory:r.data.recommendedCategory,reason:r.data.reason}),f(r.data.stretches),n("ai-banner")}catch{n("categories")}},u=()=>{b(m.length),n("done")};if(a==="loading")return e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("p",{style:{color:"var(--text-muted)",fontSize:15},children:t("common.loading")})});if(a==="ai-banner"&&d){const r=w[d.recommendedCategory]||D,c=k[d.recommendedCategory],x=c?t(c):d.recommendedCategory;return e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"32px 16px",display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsxs("div",{style:{maxWidth:480,width:"100%"},children:[e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:6,background:"rgba(234,179,8,0.1)",border:"1px solid rgba(234,179,8,0.25)",borderRadius:20,padding:"6px 14px",marginBottom:28},children:[e.jsx(z,{size:14,color:"#EAB308"}),e.jsx("span",{style:{color:"#EAB308",fontWeight:700,fontSize:12},children:t("stretches.aiRecommended")})]}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:30,marginBottom:8},children:t("stretches.recommendedFor")}),e.jsxs("div",{style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:20,padding:24,marginBottom:16},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:12},children:[e.jsx("div",{style:{width:52,height:52,borderRadius:14,background:"rgba(234,179,8,0.12)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(r,{size:24,color:"#EAB308"})}),e.jsxs("div",{children:[e.jsx("p",{style:{color:"var(--text-primary)",fontWeight:800,fontSize:20,margin:0},children:x}),e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:13,margin:0},children:[m.length," ",t("stretches.stretchesReady")]})]})]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:13,lineHeight:1.6,margin:0},children:d.reason})]}),e.jsx("button",{onClick:()=>n("session"),style:{width:"100%",background:"#EAB308",color:"#000",border:"none",borderRadius:16,padding:"16px 0",fontWeight:900,fontSize:16,cursor:"pointer",marginBottom:12},children:t("stretches.begin")}),e.jsx("button",{onClick:()=>n("categories"),style:{width:"100%",background:"transparent",color:"var(--text-muted)",border:"none",padding:"12px 0",cursor:"pointer",fontSize:14},children:t("common.back")})]})})}return a==="session"?e.jsx($,{stretches:m,onDone:u,onBack:()=>n("categories")}):a==="done"?e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"24px 16px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:480,width:"100%",textAlign:"center"},children:[e.jsx(_,{size:72,color:"#EAB308",style:{marginBottom:20}}),e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:32,marginBottom:10},children:t("stretches.completionTitle")}),e.jsxs("p",{style:{color:"var(--text-muted)",fontSize:15,marginBottom:40},children:[y," ",t("stretches.completionSubtitle")]}),e.jsx("button",{onClick:()=>n("categories"),style:{width:"100%",background:"#EAB308",color:"#000",border:"none",borderRadius:16,padding:"16px 0",fontWeight:900,fontSize:16,cursor:"pointer"},children:t("stretches.startAnother")})]})}):e.jsx("div",{style:{background:"var(--bg-base)",minHeight:"100vh",padding:"24px 16px 96px"},children:e.jsxs("div",{style:{maxWidth:480,margin:"0 auto"},children:[e.jsxs("header",{style:{marginBottom:28},children:[e.jsx("h1",{style:{color:"var(--text-primary)",fontWeight:900,fontSize:28,marginBottom:6},children:t("stretches.title")}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14},children:t("stretches.subtitle")})]}),e.jsxs("button",{onClick:g,style:{width:"100%",display:"flex",alignItems:"center",gap:14,background:"rgba(234,179,8,0.07)",border:"1px solid rgba(234,179,8,0.22)",borderRadius:16,padding:"16px 20px",cursor:"pointer",marginBottom:24,textAlign:"left"},children:[e.jsx("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(234,179,8,0.15)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(z,{size:20,color:"#EAB308"})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("p",{style:{color:"#EAB308",fontWeight:800,fontSize:15,margin:0},children:t("stretches.aiRecommended")}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:12,margin:0},children:t("stretches.aiRecommendedDesc")})]}),e.jsx(E,{size:18,color:"var(--text-muted)"})]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:12},children:t("stretches.categories")}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:s.map(r=>{const c=w[r.id]||W,x=k[r.id]?t(k[r.id]):r.label;return e.jsxs("button",{onClick:()=>p(r.id),style:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:12,background:"var(--bg-card)",border:"1px solid var(--border-subtle)",borderRadius:16,padding:"18px 16px",cursor:"pointer",textAlign:"left"},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:10,background:"rgba(234,179,8,0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(c,{size:18,color:"#EAB308"})}),e.jsx("span",{style:{color:"var(--text-primary)",fontWeight:700,fontSize:14,lineHeight:1.2},children:x})]},r.id)})})]})})}export{te as default};
