import{d as C,r as t,j as e,a as p}from"./index-BaOvKJ5T.js";import{L as _}from"./LoadingRunner-C88D-dCI.js";import{X as D}from"./x-CfSn8Zjf.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],G=C("Package",E);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W=C("Plus",T),z={Nike:["Pegasus 41","Invincible Run 3","Vaporfly 3","Alphafly 3","Structure 25","Zoom Fly 5","React Infinity Run 4","Terra Kiger 9","Wildhorse 8"],Adidas:["Ultraboost 24","Adizero Adios Pro 3","Boston 12","Solarboost 5","Terrex Trail King","Supernova Rise"],ASICS:["Gel-Nimbus 26","Gel-Kayano 31","MetaSpeed Sky+","Gel-Cumulus 26","Gel-Trabuco 12","GT-2000 13","Novablast 4"],Brooks:["Ghost 16","Glycerin 21","Hyperion Elite 4","Adrenaline GTS 24","Catamount 4","Cascadia 17"],"New Balance":["Fresh Foam X 1080v14","FuelCell SC Elite v4","Fresh Foam X 860v14","More v4","Hierro v8"],Saucony:["Triumph 22","Endorphin Pro 4","Kinvara 15","Endorphin Speed 4","Peregrine 14","Guide 17"],Hoka:["Clifton 9","Bondi 9","Speedgoat 6","Carbon X 3","Mach 6","Arahi 7","Challenger 7"],"On Running":["Cloudmonster 2","Cloudboom Echo 3","Cloudstratus 4","Cloudvista 2","Cloudrunner 2"],Mizuno:["Wave Rider 28","Wave Inspire 21","Wave Rebellion Pro 2"],Salomon:["Speedcross 6","Sense Ride 5","Ultra Glide 3"],Altra:["Lone Peak 8","Olympus 6","Torin 7"],Other:[]};function F(){const[n,w]=t.useState([]),[R,x]=t.useState(!0),[A,d]=t.useState(!1),[i,N]=t.useState(!1),[o,g]=t.useState(""),[s,u]=t.useState(""),[h,b]=t.useState(""),[m,y]=t.useState(""),[v,f]=t.useState(""),[S,j]=t.useState(!1),l=async(r=!1)=>{x(!0);try{const a=await p.get(`/gear/shoes${r?"?retired=true":""}`);w(a.data.shoes||[])}finally{x(!1)}};t.useEffect(()=>{l(i)},[i]);const P=async()=>{if(!(!o||!s)){j(!0);try{await p.post("/gear/shoes",{brand:o,model:s,nickname:h,color:m,purchase_date:v}),g(""),u(""),b(""),y(""),f(""),d(!1),l(i)}finally{j(!1)}}},B=async r=>{await p.post(`/gear/shoes/${r}/retire`),l(i)},M=async r=>{window.confirm("Delete this shoe?")&&(await p.delete(`/gear/shoes/${r}`),l(i))};if(R)return e.jsx(_,{message:"Loading gear"});const c=n.filter(r=>r.alert);return e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black",style:{color:"var(--text-primary)"},children:"My Gear"}),e.jsxs("p",{className:"text-sm",style:{color:"var(--text-muted)"},children:[n.length," active shoe",n.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>d(!0),style:{background:"#EAB308",color:"#000",border:"none",borderRadius:10,padding:"8px 14px",fontSize:13,fontWeight:700,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:[e.jsx(W,{size:14})," Add Shoe"]})]}),c.length>0&&e.jsx("div",{style:{background:"rgba(249,115,22,0.1)",border:"1px solid rgba(249,115,22,0.3)",borderRadius:12,padding:"10px 14px"},children:e.jsxs("p",{style:{fontSize:13,fontWeight:700,color:"#f97316",margin:0},children:[c.length," shoe",c.length>1?"s":""," need",c.length===1?"s":""," attention"]})}),n.length===0?e.jsxs("div",{className:"rounded-2xl p-8 text-center",style:{background:"var(--bg-card)",border:"1px solid var(--border-subtle)"},children:[e.jsx(G,{size:32,style:{color:"var(--text-muted)",margin:"0 auto 12px"}}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14},children:"No shoes yet. Add your first pair to track mileage."})]}):n.map(r=>{const a=r.pct_used,k=a>=100?"#ef4444":a>=80?"#f97316":"#EAB308";return e.jsxs("div",{style:{background:"var(--bg-card)",borderRadius:16,padding:16,border:`1.5px solid ${r.alert?"rgba(249,115,22,0.4)":"var(--border-subtle)"}`,boxShadow:r.alert?"0 0 10px rgba(249,115,22,0.15)":"none"},children:[r.alert&&e.jsx("div",{style:{background:"rgba(249,115,22,0.1)",borderRadius:8,padding:"6px 10px",marginBottom:10},children:e.jsx("p",{style:{fontSize:12,color:"#f97316",fontWeight:700,margin:0},children:a>=100?"Past recommended life — replace now":`${a}% used — start shopping for a replacement`})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs("p",{style:{fontSize:16,fontWeight:800,color:"var(--text-primary)",margin:0},children:[r.brand," ",r.model]}),r.nickname&&e.jsx("p",{style:{fontSize:12,color:"var(--accent)",margin:"2px 0 0"},children:r.nickname}),r.purchase_date&&e.jsxs("p",{style:{fontSize:11,color:"var(--text-muted)",margin:"2px 0 0"},children:["Since ",new Date(r.purchase_date+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),e.jsxs("p",{style:{fontSize:24,fontWeight:900,color:k,margin:0},children:[a,"%"]})]}),e.jsxs("div",{style:{margin:"12px 0 6px"},children:[e.jsx("div",{style:{height:8,background:"var(--bg-input)",borderRadius:4,overflow:"hidden"},children:e.jsx("div",{style:{height:"100%",width:`${Math.min(100,a)}%`,background:k,borderRadius:4,transition:"width 0.6s ease"}})}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:4},children:[e.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:[r.total_miles," mi logged"]}),e.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:[r.recommended_miles," mi life"]})]})]}),e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 12px"},children:r.miles_remaining>0?`~${Math.round(r.miles_remaining)} miles remaining`:"Past recommended life"}),e.jsxs("div",{style:{display:"flex",gap:8},children:[e.jsx("button",{onClick:()=>B(r.id),style:{fontSize:12,padding:"6px 12px",borderRadius:8,background:"var(--bg-input)",border:"1px solid var(--border-subtle)",color:"var(--text-muted)",cursor:"pointer"},children:"Retire"}),e.jsx("button",{onClick:()=>M(r.id),style:{fontSize:12,padding:"6px 12px",borderRadius:8,background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.3)",color:"#ef4444",cursor:"pointer"},children:"Delete"})]})]},r.id)}),e.jsx("button",{onClick:()=>N(r=>!r),style:{background:"none",border:"none",color:"var(--text-muted)",fontSize:13,cursor:"pointer",padding:"4px 0"},children:i?"Hide retired shoes":"View retired shoes"}),A&&e.jsx("div",{onClick:()=>d(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.7)",zIndex:50,display:"flex",alignItems:"flex-end"},children:e.jsxs("div",{onClick:r=>r.stopPropagation(),style:{background:"var(--bg-card)",borderRadius:"20px 20px 0 0",padding:24,width:"100%",maxHeight:"80vh",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[e.jsx("p",{style:{fontSize:18,fontWeight:800,color:"var(--text-primary)",margin:0},children:"Add Shoe"}),e.jsx("button",{onClick:()=>d(!1),style:{background:"var(--bg-input)",border:"none",borderRadius:8,padding:"6px 12px",color:"var(--text-muted)",cursor:"pointer"},children:e.jsx(D,{size:16})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 4px"},children:"Brand"}),e.jsxs("select",{value:o,onChange:r=>{g(r.target.value),u("")},style:{width:"100%",padding:"10px 12px",borderRadius:10,background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)",fontSize:14},children:[e.jsx("option",{value:"",children:"Select brand"}),Object.keys(z).map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 4px"},children:"Model"}),e.jsx("input",{list:"model-suggestions",value:s,onChange:r=>u(r.target.value),placeholder:o?"Type or select model":"Select brand first",disabled:!o,style:{width:"100%",padding:"10px 12px",borderRadius:10,background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)",fontSize:14,boxSizing:"border-box"}}),e.jsx("datalist",{id:"model-suggestions",children:(z[o]||[]).map(r=>e.jsx("option",{value:r},r))})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 4px"},children:"Nickname (optional)"}),e.jsx("input",{value:h,onChange:r=>b(r.target.value),placeholder:"e.g. Race Day, Daily Driver",style:{width:"100%",padding:"10px 12px",borderRadius:10,background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)",fontSize:14,boxSizing:"border-box"}})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 4px"},children:"Color (optional)"}),e.jsx("input",{value:m,onChange:r=>y(r.target.value),placeholder:"e.g. Black/Yellow",style:{width:"100%",padding:"10px 12px",borderRadius:10,background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)",fontSize:14,boxSizing:"border-box"}})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",margin:"0 0 4px"},children:"Purchase Date (optional)"}),e.jsx("input",{type:"date",value:v,onChange:r=>f(r.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:10,background:"var(--bg-input)",color:"var(--text-primary)",border:"1px solid var(--border-subtle)",fontSize:14,boxSizing:"border-box"}})]}),e.jsx("button",{onClick:P,disabled:S||!o||!s,style:{padding:"12px 0",borderRadius:12,background:"#EAB308",color:"#000",border:"none",fontSize:15,fontWeight:700,cursor:"pointer",opacity:!o||!s?.5:1},children:S?"Adding...":"Add Shoe"})]})]})})]})}export{F as default};
