import{b as C,u as R,c as U,r as a,a as g,j as e}from"./index-D4P1_Gkc.js";import{C as A}from"./chevron-right-DOUdWmMe.js";const E=[{code:"en",name:"English",flag:"ðŸ‡ºðŸ‡¸"},{code:"es",name:"EspaÃ±ol",flag:"ðŸ‡ªðŸ‡¸"},{code:"pt-BR",name:"PortuguÃªs (BR)",flag:"ðŸ‡§ðŸ‡·"},{code:"de",name:"Deutsch",flag:"ðŸ‡©ðŸ‡ª"},{code:"fr",name:"FranÃ§ais",flag:"ðŸ‡«ðŸ‡·"},{code:"ja",name:"æ—¥æœ¬èªž",flag:"ðŸ‡¯ðŸ‡µ"}];function B(){const b=C(),{t:n,i18n:c}=R(),{units:o,setUnits:S}=U(),[d,x]=a.useState("miles"),[m,l]=a.useState(!1),[z,f]=a.useState(!1),[p,u]=a.useState(null);a.useEffect(()=>{g.get("/users/settings").then(t=>{x(t.data.distance_unit||"miles")}).catch(()=>{})},[]);const k=async t=>{x(t),await g.put("/users/settings",{distance_unit:t}).catch(()=>{}),l(!0),setTimeout(()=>l(!1),2e3)},T=async t=>{await S(t),l(!0),setTimeout(()=>l(!1),2e3)},s={background:"var(--bg-card)",borderRadius:16,padding:"20px",marginBottom:16,border:"1px solid var(--border-subtle)"},i={fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:1,color:"var(--text-muted)",marginBottom:12,display:"block"};return e.jsxs("div",{children:[e.jsx("h1",{style:{fontWeight:900,fontSize:24,color:"var(--text-primary)",marginBottom:24},children:n("settings.title")}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:n("settings.language")}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},children:E.map(t=>e.jsxs("button",{onClick:()=>c.changeLanguage(t.code),style:{display:"flex",alignItems:"center",gap:8,padding:"12px 14px",borderRadius:12,border:`2px solid ${c.language===t.code?"#EAB308":"var(--border-subtle)"}`,background:c.language===t.code?"rgba(234, 179, 8, 0.15)":"var(--bg-input)",color:"var(--text-primary)",fontWeight:600,fontSize:14,cursor:"pointer",textAlign:"left"},children:[e.jsx("span",{style:{fontSize:18},children:t.flag}),e.jsx("span",{children:t.name})]},t.code))})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:n("settings.units")}),e.jsx("div",{style:{display:"flex",gap:10},children:[["imperial",n("settings.imperial")],["metric",n("settings.metric")]].map(([t,r])=>e.jsx("button",{onClick:()=>T(t),style:{flex:1,padding:"14px",borderRadius:12,border:`2px solid ${o===t?"var(--accent)":"var(--border-subtle)"}`,background:o===t?"var(--accent-dim)":"var(--bg-input)",color:o===t?"var(--accent)":"var(--text-muted)",fontWeight:700,fontSize:14,cursor:"pointer"},children:r},t))}),e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",marginTop:10},children:o==="imperial"?"Miles, lbs, Â°F":"Kilometers, kg, Â°C"}),m&&e.jsx("p",{style:{fontSize:12,color:"#22c55e",marginTop:10},children:"Saved"})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:"Distance Units (Legacy)"}),e.jsx("div",{style:{display:"flex",gap:10},children:[["miles","Miles"],["km","Kilometers"]].map(([t,r])=>e.jsx("button",{onClick:()=>k(t),style:{flex:1,padding:"14px",borderRadius:12,border:`2px solid ${d===t?"var(--accent)":"var(--border-subtle)"}`,background:d===t?"var(--accent-dim)":"var(--bg-input)",color:d===t?"var(--accent)":"var(--text-muted)",fontWeight:700,fontSize:14,cursor:"pointer"},children:r},t))}),m&&e.jsx("p",{style:{fontSize:12,color:"#22c55e",marginTop:10},children:"Saved"})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:"Account"}),e.jsxs("button",{onClick:()=>b("/profile"),style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:"none",border:"none",cursor:"pointer",padding:0},children:[e.jsx("span",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)"},children:n("profile.editProfile")}),e.jsx(A,{size:18,style:{color:"var(--text-muted)"}})]})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:"Notifications"}),e.jsx("p",{style:{fontSize:14,color:"var(--text-muted)"},children:"Push notifications â€” coming soon."})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:"Data & Privacy"}),e.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",lineHeight:1.6},children:"Your data lives on FORGE servers. We never sell your information. Import from Strava and Apple Health coming soon."})]}),e.jsxs("div",{style:s,children:[e.jsx("span",{style:i,children:"Import Activity"}),e.jsx("input",{type:"file",accept:".gpx,.json",onChange:async t=>{var y,v;const r=(y=t.target.files)==null?void 0:y[0];if(!r)return;f(!0),u(null);const h=new FormData;h.append("file",r);try{const j=await g.post("/watch-sync/upload",h,{headers:{"Content-Type":"multipart/form-data"}});u({ok:!0,text:((v=j.data)==null?void 0:v.message)||"Activity imported successfully"})}catch{u({ok:!1,text:"We couldn't parse this file. Supported: GPX, Garmin JSON export"})}finally{f(!1)}},style:{width:"100%",fontSize:13,color:"var(--text-muted)"}}),z&&e.jsx("p",{style:{fontSize:12,marginTop:10,color:"var(--text-muted)"},children:"Uploading..."}),p&&e.jsx("p",{style:{fontSize:12,marginTop:10,color:p.ok?"#22c55e":"#ef4444"},children:p.text})]}),e.jsx("p",{style:{textAlign:"center",fontSize:12,color:"var(--text-muted)",opacity:.5,marginTop:24},children:"FORGE v1.0 Â· Built to adapt."})]})}export{B as default};
